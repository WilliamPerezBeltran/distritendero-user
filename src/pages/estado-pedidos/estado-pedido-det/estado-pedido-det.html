<!--
  Generated template for the EstadoPedidoDtPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-buttons start>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>

    <ion-title>Estado del pedido</ion-title>
    <ion-buttons end (click)="navegargeolocalizacion()">
      <button ion-button icon-only>
        <ion-icon name="md-close"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>

  <ion-toolbar>

    <!-- IF pone la imagen que tiene en la base de datos -->
    <div *ngIf="imagen(infoPedido.imagen)">
      <div id="tienda-img" [style.backgroundImage]="'url(' + infoPedido.imagen + ')'">
        <div id="tienda-opacity">
          <h3>{{ infoPedido.nombre_tienda }}</h3>
          Tel: {{ infoPedido.telefono }}<br/>
          Dirección: {{ infoPedido.direccion_tienda }}
        </div>
      </div>
    </div>
    <!-- / END IF -->
    <!-- ELSE pone la imagen por defecto -->
    <div *ngIf="!imagen(infoPedido.imagen)">
      <div id="tienda-img" style="background-image: url('/assets/img/tiendas/defecto-tienda.jpg')">
        <div id="tienda-opacity">
          <h3>{{ infoPedido.nombre_tienda }}</h3>
          Tel: {{ infoPedido.telefono }}<br/>
          Dirección: {{ infoPedido.direccion_tienda }}
        </div>
      </div>
    </div>
    <!-- / ELSE  -->

  </ion-toolbar>


</ion-header>
<!--
todo:(PUEDE ESPERAR DISEÑO)en el header se corta la frase al poner el celular mas pequeno
-->
<ion-content>

  <!-- TODO:(PUEDE ESPERAR FALTA QUE NOS MANDEN IMAGENES)imagen quemada pasos-->

  <!-- paso 1 en la base de datos es recibido por el tendero, que en imagenes seria el paso 3 -->
  <div class="imagen" *ngIf="infoPedido.id_estado_pedido == 1">
    <div class="img" style="background-image: url('/assets/img/estado-pedidos/paso-3.png')"></div>
  </div>

  <!-- paso 2 en la base de datos es pedido enviado al usuario, que en imagenes seria el paso 4 -->
  <div class="imagen" *ngIf="infoPedido.id_estado_pedido == 2">
    <div class="img" style="background-image: url('/assets/img/estado-pedidos/paso-4.png')"></div>
  </div>

  <div class="imagen">
    <div class="img" style="background-image: url('/assets/img/estado-pedidos/defecto.jpg')"></div>
  </div>

  <ion-grid id="info">
    <ion-row>

      <ion-col col-8>
        <ion-icon name="md-clock"></ion-icon>
        Tiempo de Entrega:
      </ion-col>

      <ion-col>
        <b>{{infoPedido.tiempo_envio_nombre}}</b>
      </ion-col>

    </ion-row>

    <ion-row>

      <ion-col col-8>
        <ion-icon name="md-cash"></ion-icon>
        El total de tu pedido:
      </ion-col>

      <ion-col>
        <b>${{infoPedido.total}}</b>
      </ion-col>

    </ion-row>
  </ion-grid>

  <div align="center">
    <button ion-button (click)="confirmarCancelar()">Cancelar pedido</button>
  </div>

</ion-content>

<!--
  Generated template for the CarritoComprasLstPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <!--
        todo: (PUEDE ESPERAR DISEÑO)arreglar diseno de la fila de cantidad
        -->
  <ion-navbar color="primary">

    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <!--  Title -->
    <ion-title>Carrito de compras</ion-title>

  </ion-navbar>

  <ion-toolbar>

    <!-- IF pone la imagen que tiene en la base de datos -->
    <div *ngIf="imagen(infoTienda.imagen)">
      <div id="tienda-img" [style.backgroundImage]="'url(' + infoTienda.imagen + ')'">
        <div id="tienda-opacity">
          <h3>{{ infoTienda.name }}</h3>
          Tel: {{ infoTienda.mobile }}<br/>
          Dirección: {{ infoTienda.direction }}
        </div>
      </div>
    </div>
    <!-- / END IF -->

    <!-- ELSE pone la imagen por defecto -->
    <div *ngIf="!imagen(infoTienda.imagen)">
      <div id="tienda-img" style="background-image: url('assets/img/tiendas/defecto-tienda.jpg')">
        <div id="tienda-opacity">
          <h3>{{ infoTienda.name }}</h3>
          Tel: {{ infoTienda.mobile }}<br/>
          Dirección: {{ infoTienda.direction }}
        </div>
      </div>
    </div>
    <!-- / ELSE  -->

  </ion-toolbar>

</ion-header>


<ion-content>

  <ion-list no-lines>
    <ion-item *ngFor="let producto of productosSeleccionados" text-wrap>

      <ion-row>

        <ion-col col-4 class="prod-img" [style.backgroundImage]="imagenProd(producto.imagen)">
          <!--<img *ngIf="imagen(producto.imagen)" [src]="producto.imagen">-->
          <!--<img *ngIf="!imagen(producto.imagen)" src="/assets/img/productos/defecto-producto.jpg">-->
        </ion-col>

        <ion-col col-8>

          <h2>{{ producto.nombre }}</h2>

          <button ion-button icon-only small (click)="disminuirCarrito(producto)">
            <ion-icon name="md-remove-circle"></ion-icon>
          </button>

          {{ producto.cantidad }}

          <button ion-button icon-only small color="success" (click)="agregarCarrito(producto)">
            <ion-icon name="md-add-circle"></ion-icon>
          </button>

          <button ion-button icon-only small color="light" (click)="agregarCarrito(producto)">
            <ion-icon name="md-trash"></ion-icon>
          </button>

          <p>Valor Unitario: <strong>${{ producto.precio }}</strong></p>

        </ion-col>

      </ion-row>

    </ion-item>

  </ion-list>

</ion-content>

<ion-footer>
    <ion-row align-items-center>
      <!-- TODO:(ESPERAR DISEÑO)poner formato de precio -->
      <ion-col col-8 class="totales">
        Domicilio: <b>${{ infoTienda.valorDomicilio }}</b><br />
        Total: <b>${{ precioTotalCarrito }}</b>
      </ion-col>

      <ion-col col-4>
        <button ion-button block color="success" (click)="validarPedido()">Confirmar</button>
      </ion-col>

    </ion-row>
</ion-footer>


<!--
  Generated template for the ProductosLstPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <!--
  todo:se corta en celares pequenos 'buscar categorias
  -->
  <ion-navbar color="primary">
    <!-- MENU -->
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <!-- / Fin MENU -->

    <!--  Title -->
    <ion-title>Haz tu pedido</ion-title>


    <!-- Button search -->
    <ion-buttons end>
      <button ion-button icon-only (click)="mostrarBuscar()">
        <ion-icon name="md-search"></ion-icon>
      </button>
    </ion-buttons>
    <!-- / END Button search -->

  </ion-navbar>

  <ion-toolbar>

    <!-- IF pone la imagen que tiene en la base de datos -->
    <div *ngIf="imagen(infoTienda.imagen)">
      <div id="tienda-img" [style.backgroundImage]="'url(' + infoTienda.imagen + ')'">
        <div id="tienda-opacity">
          <h3>{{ infoTienda.name }}</h3>
          Tel: {{ infoTienda.mobile }}<br/>
          Dirección: {{ infoTienda.direction }}
        </div>
      </div>
    </div>
    <!-- / END IF -->

    <!-- ELSE pone la imagen por defecto -->
    <div *ngIf="!imagen(infoTienda.imagen)">
      <div id="tienda-img" style="background-image: url('assets/img/tiendas/defecto-tienda.jpg')">
        <div id="tienda-opacity">
          <h3>{{ infoTienda.name }}</h3>
          Tel: {{ infoTienda.mobile }}<br/>
          Dirección: {{ infoTienda.direction }}
        </div>
      </div>
    </div>
    <!-- / ELSE  -->

  </ion-toolbar>


</ion-header>


<ion-content>

  <ion-list no-lines>
    <ion-item *ngFor="let producto of productos" text-wrap>

      <ion-row>

        <ion-col col-4 class="prod-img" [style.backgroundImage]="imagenProd(producto.imagen)"></ion-col>

        <ion-col col-8>

          <h2>{{ producto.nombre }}</h2>

          <button ion-button icon-only small (click)="disminuirCarrito(producto)">
            <ion-icon name="md-remove-circle"></ion-icon>
          </button>

          {{ producto.cantidad }}

          <button ion-button icon-only small color="success" (click)="agregarCarrito(producto)">
            <ion-icon name="md-add-circle"></ion-icon>
          </button>

          <p>Valor Unitario: <strong>${{ producto.precio }}</strong></p>

        </ion-col>

      </ion-row>

    </ion-item>

  </ion-list>

  <!-- TODO: colocar Badge a la derecha -->
  <ion-fab right bottom color="light">
    <ion-badge right>{{ cantidadProductosSeleccionados }}</ion-badge>
    <button ion-fab color="gray" (click)="navegarCarrito()">
      <ion-icon name="cart"></ion-icon>
    </button>
  </ion-fab>

</ion-content>
